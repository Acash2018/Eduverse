"use strict";(self.webpackChunkeduverse=self.webpackChunkeduverse||[]).push([[3],{4003:(s,e,t)=>{t.r(e),t.d(e,{default:()=>r});var a=t(5043),n=t(3216),i=t(5475),l=t(6213),o=t(184),c=t(579);const r=()=>{const[s,e]=(0,a.useState)(null),[t,r]=(0,a.useState)({}),[d,g]=(0,a.useState)(""),h=(0,n.Zp)();(0,a.useEffect)((()=>{(async()=>{try{const s=localStorage.getItem("token"),t=await l.A.get("http://localhost:5000/api/settings",{headers:{Authorization:`Bearer ${s}`}});e(t.data),r(t.data)}catch(a){var s,t;if(404===(null===(s=a.response)||void 0===s?void 0:s.status))g("Settings not found. Please check the URL or try again.");else console.error("Error fetching settings:",(null===(t=a.response)||void 0===t?void 0:t.data)||a.message),g("Failed to load settings. Please try again later.")}})()}),[]);return(0,c.jsxs)("div",{className:"settings-container",children:[(0,c.jsx)("h2",{children:"Settings"}),(0,c.jsxs)("div",{className:"settings-grid",children:[(0,c.jsxs)(i.N_,{to:"/settings/profile-privacy",className:"settings-link",children:[(0,c.jsx)(o.e7y,{size:50}),(0,c.jsx)("span",{children:"Profile Privacy"})]}),(0,c.jsxs)(i.N_,{to:"/settings/notifications",className:"settings-link",children:[(0,c.jsx)(o.jNV,{size:50}),(0,c.jsx)("span",{children:"Notification Preferences"})]}),(0,c.jsxs)(i.N_,{to:"/settings/account-security",className:"settings-link",children:[(0,c.jsx)(o.JhU,{size:50}),(0,c.jsx)("span",{children:"Account Security"})]}),(0,c.jsxs)(i.N_,{to:"/settings/blocked",className:"settings-link",children:[(0,c.jsx)(o.Rqy,{size:50}),(0,c.jsx)("span",{children:"Blocked Users"})]}),(0,c.jsxs)(i.N_,{to:"/settings/help",className:"settings-link",children:[(0,c.jsx)(o.gZZ,{size:50}),(0,c.jsx)("span",{children:"Help & Support"})]})]}),(0,c.jsxs)("div",{className:"settings-content",children:[(0,c.jsx)(n.sv,{}),(0,c.jsxs)("div",{className:"settings-actions",children:[(0,c.jsx)("button",{className:"save-button",onClick:async()=>{try{const s=localStorage.getItem("token");200===(await l.A.put("http://localhost:5000/api/settings/update",t,{headers:{Authorization:`Bearer ${s}`}})).status&&(g("Settings updated successfully!"),e(t),h("/dashboard"))}catch(a){var s;g("Failed to update settings. Please try again."),console.error("Error updating settings:",(null===(s=a.response)||void 0===s?void 0:s.data)||a.message)}},children:"Save Changes"}),(0,c.jsx)("button",{className:"reset-button",onClick:()=>{r(s),g("Changes have been reset.")},children:"Back to Original Settings"}),(0,c.jsx)("button",{className:"logout-button",onClick:()=>{localStorage.removeItem("token"),g("You have been logged out."),h("/login")},children:"Logout"})]}),d&&(0,c.jsx)("p",{className:"feedback",children:d})]})]})}}}]);
//# sourceMappingURL=3.4472d3cf.chunk.js.map