"use strict";(self.webpackChunkeduverse=self.webpackChunkeduverse||[]).push([[768],{5768:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s(5043),n=s(6213),c=s(579);const o=()=>{const[e,t]=(0,i.useState)({email:!0,sms:!1,likes:!0,comments:!0,follows:!0}),[s,o]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token"),s=await n.A.get("http://localhost:5002/api/user/notifications",{headers:{Authorization:`Bearer ${e}`}});t(s.data.notifications)}catch(e){console.error("Error fetching notification settings:",e),o("Failed to load notification settings.")}})()}),[]);const a=e=>{const{name:s,checked:i}=e.target;t((e=>({...e,[s]:i})))};return(0,c.jsxs)("div",{className:"settings-section",children:[(0,c.jsx)("h3",{children:"Notification Preferences"}),(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("label",{children:"Email Notifications:"}),(0,c.jsx)("input",{type:"checkbox",name:"email",checked:e.email,onChange:a})]}),(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("label",{children:"SMS Notifications:"}),(0,c.jsx)("input",{type:"checkbox",name:"sms",checked:e.sms,onChange:a})]}),(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("label",{children:"Likes Notifications:"}),(0,c.jsx)("input",{type:"checkbox",name:"likes",checked:e.likes,onChange:a})]}),(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("label",{children:"Comments Notifications:"}),(0,c.jsx)("input",{type:"checkbox",name:"comments",checked:e.comments,onChange:a})]}),(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("label",{children:"Follows Notifications:"}),(0,c.jsx)("input",{type:"checkbox",name:"follows",checked:e.follows,onChange:a})]}),(0,c.jsx)("button",{className:"save-button",onClick:async()=>{try{const t=localStorage.getItem("token");await n.A.put("http://localhost:5000/api/user/notifications",{notifications:e},{headers:{Authorization:`Bearer ${t}`}}),o("Notification preferences updated successfully!")}catch(t){console.error("Error updating notification settings:",t),o("Failed to update notification preferences.")}},children:"Save Notification Settings"}),s&&(0,c.jsx)("p",{className:"feedback",children:s})]})}}}]);
//# sourceMappingURL=768.7bdfb677.chunk.js.map